<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AgroSphere - Home</title>

    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        body {
            font-family: "Poppins", sans-serif;
        }
    </style>
</head>

<body class="bg-[#e8f8e3]">

    <!-- NAVBAR -->
    <nav class="bg-[#d6f5c9] shadow-md border-b border-green-300 fixed w-full top-0 left-0 z-50">

        <div class="max-w-7xl mx-auto px-6 py-3 flex justify-between items-center">

            <!-- Logo -->
            <div class="flex items-center gap-2">
                <img src="/static/images/logo.png" class="h-10 w-10" alt="Logo">
                <h1 class="text-xl font-semibold text-green-700">AgroSphere</h1>
            </div>

            <!-- Desktop Menu -->
            <ul class="hidden md:flex gap-6 text-gray-700 font-medium">
                <li><a href="/" class="hover:text-green-600">Home</a></li>
                <li><a href="/products" class="hover:text-green-600">Products</a></li>
                <li><a href="/guides" class="hover:text-green-600">Guides</a></li>
                <li><a href="/experts" class="hover:text-green-600">Experts</a></li>
            </ul>

            <!-- USER DROPDOWN -->
            <!-- RIGHT SIDE USER SECTION -->
            <div class="hidden md:flex items-center gap-4">

                {% if user %}
                <!-- Username dropdown -->
                <div class="relative">
                    <button id="userBtn"
                        class="px-4 py-2 bg-green-200 text-green-800 rounded-lg hover:bg-green-300 transition flex items-center gap-2">
                        {{ user }}
                        <span class="text-sm">‚ñº</span>
                    </button>

                    <div id="userMenu"
                        class="absolute right-0 mt-2 w-40 bg-[#d6f5c9] shadow-lg rounded-lg hidden border border-green-300 text-center">

                        <a href="/profile"
                            class="flex items-center justify-center gap-2 px-2 py-2 hover:bg-green-50 rounded-t-lg">
                            üë®‚Äçüåæ <span>Profile</span>
                        </a>

                        <a href="/settings" class="flex items-center justify-center gap-2 px-2 py-2 hover:bg-green-50">
                            ‚öôÔ∏è <span>Settings</span>
                        </a>

                        <a href="/userlogout"
                            class="flex items-center justify-center gap-2 px-2 py-2 hover:bg-green-50 text-red-600 rounded-b-lg">
                            üîì <span>Logout</span>
                        </a>

                    </div>

                </div>

                {% else %}
                <!-- Login / Signup only if NOT logged in -->
                <a href="/" class="px-4 py-2 bg-green-200 text-green-700 rounded-lg hover:bg-green-300 transition">
                    Login
                </a>
                <a href="/signup" class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition">
                    Signup
                </a>
                {% endif %}

            </div>

            <!-- Mobile Menu Button -->
            <button id="menuBtn" class="md:hidden text-3xl text-green-700">‚ò∞</button>
        </div>

        <!-- Mobile Menu -->
        <div id="mobileMenu" class="hidden md:hidden bg-white px-6 pb-4 border-t border-green-200">
            <a href="/index" class="block py-2 text-gray-700 hover:text-green-600">Home</a>
            <a href="/products" class="block py-2 text-gray-700 hover:text-green-600">Products</a>
            <a href="/guides" class="block py-2 text-gray-700 hover:text-green-600">Guides</a>
            <a href="/experts" class="block py-2 text-gray-700 hover:text-green-600">Experts</a>

            <a href="/profile" class="block mt-3 py-2 text-green-700 font-medium">Profile</a>
            <a href="/userlogout" class="block py-2 text-red-600 font-medium">Logout</a>
        </div>
    </nav>

    <script>
        // Mobile menu
        const menuBtn = document.getElementById("menuBtn");
        const mobileMenu = document.getElementById("mobileMenu");
        menuBtn.addEventListener("click", () => mobileMenu.classList.toggle("hidden"));

        // User dropdown
        const userBtn = document.getElementById("userBtn");
        const userMenu = document.getElementById("userMenu");

        userBtn.addEventListener("click", () => {
            userMenu.classList.toggle("hidden");
        });

        document.addEventListener("click", (e) => {
            if (!userBtn.contains(e.target) && !userMenu.contains(e.target)) {
                userMenu.classList.add("hidden");
            }
        });
    </script>

    <!-- MAIN CONTENT -->
    <section class="pt-24 px-6 max-w-7xl mx-auto">

        <!-- Header + Search -->
        <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-8">
            <h2 class="text-3xl font-semibold text-green-700">Welcome to AgroSphere</h2>

            <div class="mt-4 md:mt-0">
                <input type="text" placeholder="Search products, guides, tools..."
                    class="px-4 py-2 w-full md:w-80 rounded-lg border border-green-300 focus:outline-none focus:border-green-600">
            </div>
        </div>

        <!-- FEATURE CARDS -->
        <div class="grid md:grid-cols-3 gap-6">

            <!-- Card 1 -->
            <div class="bg-white border border-green-200 rounded-2xl shadow p-6">
                <h3 class="text-xl font-semibold text-green-700 mb-3">üåæ Farming Guides</h3>
                <p class="text-gray-600 mb-4 text-sm">
                    Learn from curated tutorials on best farming practices.
                </p>
                <a href="/guides"
                    class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition text-sm">
                    View Guides
                </a>
            </div>

            <!-- Card 2 -->
            <div class="bg-white border border-green-200 rounded-2xl shadow p-6">
                <h3 class="text-xl font-semibold text-green-700 mb-3">üöú Farming Products</h3>
                <p class="text-gray-600 mb-4 text-sm">
                    Explore tools, seeds, fertilizers, and equipment.
                </p>
                <a href="/products"
                    class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition text-sm">
                    Browse Products
                </a>
            </div>

            <!-- Card 3 -->
            <div class="bg-white border border-green-200 rounded-2xl shadow p-6">
                <h3 class="text-xl font-semibold text-green-700 mb-3">üë®‚Äçüåæ Expert Help</h3>
                <p class="text-gray-600 mb-4 text-sm">
                    Talk to agricultural experts for personalized help.
                </p>
                <a href="/experts"
                    class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition text-sm">
                    Book Appointment
                </a>
            </div>

        </div>

        <!-- ADDITIONAL SECTIONS (Optional like screenshot) -->
        <div class="mt-12">
            <h3 class="text-2xl font-semibold text-green-700 mb-4">Latest Guides</h3>

            <div class="grid md:grid-cols-3 gap-6">

                <div class="bg-white shadow rounded-lg border border-green-200">
                    <img src="/static/images/guide1.jpg" class="rounded-t-lg h-40 w-full object-cover">
                    <div class="p-4">
                        <h4 class="font-semibold text-green-700 mb-1">Crop Health Basics</h4>
                        <p class="text-gray-600 text-sm">Learn how to identify unhealthy crops...</p>
                    </div>
                </div>

                <div class="bg-white shadow rounded-lg border border-green-200">
                    <img src="/static/images/guide2.jpg" class="rounded-t-lg h-40 w-full object-cover">
                    <div class="p-4">
                        <h4 class="font-semibold text-green-700 mb-1">Soil Strength Tips</h4>
                        <p class="text-gray-600 text-sm">Improve soil fertility with simple steps...</p>
                    </div>
                </div>

                <div class="bg-white shadow rounded-lg border border-green-200">
                    <img src="/static/images/guide3.jpg" class="rounded-t-lg h-40 w-full object-cover">
                    <div class="p-4">
                        <h4 class="font-semibold text-green-700 mb-1">Water Management</h4>
                        <p class="text-gray-600 text-sm">Best irrigation strategies for your fields...</p>
                    </div>
                </div>

            </div>
        </div>

    </section>

    <!-- FOOTER -->
    <footer class="bg-[#d6f5c9] text-green-800 text-center py-4 mt-10 border-t border-green-300">
        <p class="text-gray-600 text-sm">
            ¬© 2025 AgroSphere. All rights reserved.
        </p>
    </footer>

</body>

</html>